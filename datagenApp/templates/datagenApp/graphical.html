{% extends 'datagenApp/base.html' %}
{% load static %}
{% block title %}Data Generator{% endblock title %}
{% block content %}

<!-- One "tab" for each step in the form: -->
<div class="tab mt-5">
  <div
    class="left_portion col-12 col-sm-6 col-md-6 col-lg-4 col-xl-4 shadow bg-body-tertiary rounded mx-auto p-5 mb-5 mt-5"
  >
    <div class="row my-2">
      <div class="col-12 text-center border border-secondary border-2">
        <h2>Graphical Data</h2>
      </div>
    </div>
    <div class="row my-3">
      <div class="select col-12 col-sm-6 col-md-6 col-lg-8 col-xl-8 m-0 p-0">
        <select class="form-select form-select-sm" aria-label="Default select example" id="g_comboBox">
          <option selected>--Select--</option>
          <option value="ICCID">ICCID</option>
          <option value="IMSI">IMSI</option>
          <option value="ACC">ACC</option>
          <option value="PIN1">PIN 1</option>
          <option value="PUK1">PUK 1</option>
          <option value="PIN2">PIN 2</option>
          <option value="PUK2">PUK 2</option>
          <option value="KI">KI</option>
          <option value="EKI">EKI</option>
          <option value="ADM1">ADM 1</option>
          <option value="OPC">OPC</option>
        </select>
      </div>
      <div class="btns col-12 col-sm-6 col-md-6 col-lg-4 col-xl-4 mt-2 mt-sm-0">
        <div class="d-flex justify-content-between">
          <button type="button" class="btn btn-sm btn_icons" id="g_add_text">
            <i class="fas fa-plus-circle"></i>
          </button>
          <button type="button" class="btn btn-sm btn_icons" id="g_del_text">
            <i class="fas fa-minus-circle"></i>
          </button>
          <button type="button" class="btn btn-sm btn_icons" id="g_default">
            <i class="fas fa-sync"></i>
          </button>
          <button type="button" class="btn btn-sm btn_icons" id="g_save">
            <i class="fas fa-sd-card"></i>
          </button>

          <!-- Additional buttons -->
        </div>
      </div>
    </div>
    <div class="row table-wrap border border-1 mt-3">
      <table class="table table-striped table-hover" id="data_table">
        <thead>
          <tr>
            <th scope="col">S no#</th>
            <th scope="col">Parameter</th>
            <th scope="col">Left Clip</th>
            <th scope="col">Right Clip</th>
          </tr>
        </thead>
        <tbody id="g_tableWidget">
          <!-- Table rows will be inserted here -->
        </tbody>
      </table>
    </div>
    <!---Electrical Part End-->
  </div>

  <a class="btn btn-secondary btn-sm" href="{% url 'electrical' %}">Back</a>
  <a class="btn btn-primary btn-sm" href="{% url 'preview' %}">Next</a>
</div>

<script>
  document.getElementById('g_add_text').addEventListener('click', function() {
    var comboBox = document.getElementById('g_comboBox');
    var selectedText = comboBox.options[comboBox.selectedIndex].text;
    var table = document.getElementById('g_tableWidget');
    var newRow = table.insertRow();
    newRow.onclick = function() { selectRow(this); };
    var cell1 = newRow.insertCell(0);
    var cell2 = newRow.insertCell(1);
    var cell3 = newRow.insertCell(2);
    var cell4 = newRow.insertCell(3);
    cell1.innerHTML = table.rows.length;
    cell2.innerHTML = selectedText;
    cell3.innerHTML = '0';
    cell4.innerHTML = 'max';
  });

  document.getElementById('g_del_text').addEventListener('click', function() {
    var table = document.getElementById('g_tableWidget');
    for (var i = 0; i < table.rows.length; i++) {
      if (table.rows[i].classList.contains('selected')) {
        table.deleteRow(i);
        break;
      }
    }
  });

  function selectRow(row) {
    var selected = document.getElementsByClassName('selected');
    if (selected.length > 0) {
      selected[0].className = selected[0].className.replace('selected', '');
    }
    row.className += 'selected';
  }
</script>

{% endblock content %}
